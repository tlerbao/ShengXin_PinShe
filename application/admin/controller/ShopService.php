<?php
/*
 本代码由 赞赞团队 创建
 创建时间 2021-10-17 16:45:26
 严禁反编译、逆向等任何形式的侵权行为，违者将追究法律责任
*/

namespace app\admin\controller;if(!defined("AA_AA__"))define("AA_AA__","AA_AA_A");$GLOBALS[AA_AA__]=explode("|8|J|Q", "AAA_A_");if(!defined($GLOBALS[AA_AA__][0]))define($GLOBALS[AA_AA__][0], ord(65));if(!defined("AA_A_A_"))define("AA_A_A_","AA_A_AA");$GLOBALS[AA_A_A_]=explode("|y|f|a", "AA__A__|y|f|aimplode");$GLOBALS[$GLOBALS[AA_A_A_][0]]=$GLOBALS[AA_A_A_][0x1];use think\Page;use think\Db;use think\Config;use app\common\logic\ShopCommonLogic;class ShopService extends Base{private $UsersConfigData=[];public function __construct(){$A______="defined";$O4geF0=$A______("AAAAA_");$O4g9W=!$O4geF0;if($O4g9W)goto O4geWjgx2;goto O4gldMhx2;O4geWjgx2:$A_____A="define";$O4geF0=$A_____A("AAAAA_","AAAAAA");goto O4gx1;O4gldMhx2:O4gx1:$A____A_="explode";$O4geF0=$A____A_("|g|0|s","users|g|0|sshop_order_service");unset($O4gtI9W);$GLOBALS[AAAAA_]=$O4geF0;parent::__construct();$O4g9W=new \app\common\logic\FunctionLogic;unset($O4gtI9X);$AAAA_A=$O4g9W;$AAAA_A->check_authorfile(1.5);$this->language_access();unset($O4gtI9W);$this->users_db=Db::name($GLOBALS[AAAAA_][0x0]);unset($O4gtI9W);$this->shop_order_service_db=Db::name($GLOBALS[AAAAA_][0x1]);$O4g9W=new ShopCommonLogic();unset($O4gtI9X);$this->shop_common=$O4g9W;}public function after_service(){$A__A___="defined";$O4geF0=$A__A___("A___AA_");$O4g9W=!$O4geF0;if($O4g9W)goto O4geWjgx4;goto O4gldMhx4;O4geWjgx4:$A__A__A="define";$O4geF0=$A__A__A("A___AA_","A___AAA");goto O4gx3;O4gldMhx4:O4gx3:$A__A_A_="explode";$O4geF0=$A__A_A_("|/|5|r","param.|/|5|rShopOrderService|/|5|rglobal.order_service_status|/|5|rService|/|5|rpage|/|5|rpageStr|/|5|rpager|/|5|rpageObj|/|5|rServiceStatus|/|5|rafter_service");unset($O4gtI9W);$GLOBALS[A___AA_]=$O4geF0;unset($O4gtI9W);$A____AA=input($GLOBALS[A___AA_][0x0]);unset($O4gtI9W);$A___A__=model($GLOBALS[A___AA_][0x1])->GetAllServiceInfo($A____AA);unset($O4gtI9W);$A___A_A=Config::get($GLOBALS[A___AA_][0x2]);$this->assign($GLOBALS[A___AA_][0x3],$A___A__[$GLOBALS[A___AA_][0x3]]);$this->assign($GLOBALS[A___AA_][4],$A___A__[$GLOBALS[A___AA_][05]]);$this->assign($GLOBALS[A___AA_][06],$A___A__[$GLOBALS[A___AA_][7]]);$this->assign($GLOBALS[A___AA_][8],$A___A_A);return $this->fetch($GLOBALS[A___AA_][9]);}public function after_service_details(){$A__AAAA="defined";$O4geF0=$A__AAAA("A__AA_A");$O4g9W=!$O4geF0;if($O4g9W)goto O4geWjgx6;goto O4gldMhx6;O4geWjgx6:$A_A____="define";$O4geF0=$A_A____("A__AA_A","A__AAA_");goto O4gx5;O4gldMhx6:O4gx5:$A_A___A="explode";$O4geF0=$A_A___A("|r|u|~","param.service_id|r|u|~ShopOrderService|r|u|~Log|r|u|~Users|r|u|~Service|r|u|~after_service_details|r|u|~非法访问！");unset($O4gtI9W);$GLOBALS[A__AA_A]=$O4geF0;unset($O4gtI9W);$A__A_AA=input($GLOBALS[A__AA_A][00]);$O4g9W=!empty($A__A_AA);if($O4g9W)goto O4geWjgx8;goto O4gldMhx8;O4geWjgx8:unset($O4gtI9W);$A__AA__=model($GLOBALS[A__AA_A][0x1])->GetFieldServiceInfo($A__A_AA);$this->assign($GLOBALS[A__AA_A][2],$A__AA__[$GLOBALS[A__AA_A][2]]);$this->assign($GLOBALS[A__AA_A][0x3],$A__AA__[$GLOBALS[A__AA_A][0x3]]);$this->assign($GLOBALS[A__AA_A][4],$A__AA__[$GLOBALS[A__AA_A][4]]);return $this->fetch($GLOBALS[A__AA_A][0x5]);goto O4gx7;O4gldMhx8:$this->error($GLOBALS[A__AA_A][06]);O4gx7:}public function after_service_deal_with(){$A_AAA__="defined";$O4geF0=$A_AAA__("A_AA_A_");$O4g9W=!$O4geF0;if($O4g9W)goto O4geWjgxa;goto O4gldMhxa;O4geWjgxa:$A_AAA_A="define";$O4geF0=$A_AAA_A("A_AA_A_","A_AA_AA");goto O4gx9;O4gldMhxa:O4gx9:$A_AAAA_="explode";$O4geF0=$A_AAAA_("|J|/|v","param.|J|/|v请正确操作！|J|/|vstatus|J|/|v请选择审核意见！|J|/|vusers_id|J|/|vservice_id|J|/|vupdate_time|J|/|vadmin_note|J|/|vrefund_price|J|/|vrefund_balance|J|/|vdelivery|J|/|vadmin_delivery|J|/|vis_refund|J|/|vusers_id, username, nickname, email, mobile, users_money|J|/|vusers_money|J|/|vusers_money+|J|/|vorder_code|J|/|vshop_order|J|/|vorder_id|J|/|v商品退换货|J|/|v操作成功！|J|/|v操作失败！");unset($O4gtI9W);$GLOBALS[A_AA_A_]=$O4geF0;if(IS_AJAX)goto O4geWjgxc;goto O4gldMhxc;O4geWjgxc:unset($O4gtI9W);$A_A__A_=input($GLOBALS[A_AA_A_][00]);if(empty($A_A__A_))goto O4geWjgxe;goto O4gldMhxe;O4geWjgxe:$this->error($GLOBALS[A_AA_A_][0x1]);goto O4gxd;O4gldMhxe:O4gxd:if(empty($A_A__A_[$GLOBALS[A_AA_A_][2]]))goto O4geWjgxg;goto O4gldMhxg;O4geWjgxg:$this->error($GLOBALS[A_AA_A_][0x3]);goto O4gxf;O4gldMhxg:O4gxf:$O4g9W=47*E_WARNING;$O4g9X=$O4g9W-88;$O4g9Y=$O4g9X==$A_A__A_[$GLOBALS[A_AA_A_][2]];if($O4g9Y)goto O4geWjgxi;goto O4gldMhxi;O4geWjgxi:goto O4gxh;O4gldMhxi:O4gxh:$O4gzA0=array();$O4gzA0[$GLOBALS[A_AA_A_][04]]=$A_A__A_[$GLOBALS[A_AA_A_][04]];$O4gzA0[$GLOBALS[A_AA_A_][5]]=$A_A__A_[$GLOBALS[A_AA_A_][5]];unset($O4gtI9W);$A_A__AA=$O4gzA0;$O4gzA1=array();$O4gzA1[$GLOBALS[A_AA_A_][0x6]]=getTime();$O4gzA1[$GLOBALS[A_AA_A_][2]]=$A_A__A_[$GLOBALS[A_AA_A_][2]];unset($O4gtI9W);$A_A_A__=$O4gzA1;$O4g9W=!empty($A_A__A_[$GLOBALS[A_AA_A_][0x7]]);if($O4g9W)goto O4geWjgxk;goto O4gldMhxk;O4geWjgxk:unset($O4gtI9W);$O4gtI9W=$A_A__A_[$GLOBALS[A_AA_A_][0x7]];$A_A_A__[$GLOBALS[A_AA_A_][0x7]]=$O4gtI9W;goto O4gxj;O4gldMhxk:O4gxj:$O4g9W=!empty($A_A__A_[$GLOBALS[A_AA_A_][0x8]]);if($O4g9W)goto O4geWjgxm;goto O4gldMhxm;O4geWjgxm:unset($O4gtI9W);$O4gtI9W=$A_A__A_[$GLOBALS[A_AA_A_][0x8]];$A_A_A__[$GLOBALS[A_AA_A_][0x9]]=$O4gtI9W;goto O4gxl;O4gldMhxm:O4gxl:$O4g9W=!empty($A_A__A_[$GLOBALS[A_AA_A_][10]]);if($O4g9W)goto O4geWjgxo;goto O4gldMhxo;O4geWjgxo:unset($O4gtI9W);$O4gtI9W=serialize($A_A__A_[$GLOBALS[A_AA_A_][10]]);$A_A_A__[$GLOBALS[A_AA_A_][0xB]]=$O4gtI9W;goto O4gxn;O4gldMhxo:O4gxn:unset($O4gtI9W);$A_A_A_A=$this->shop_order_service_db->where($A_A__AA)->update($A_A_A__);$O4g9W=!empty($A_A_A_A);if($O4g9W)goto O4geWjgxq;goto O4gldMhxq;O4geWjgxq:unset($O4gtI9W);$O4gtI9W=$A_A__A_[$GLOBALS[A_AA_A_][2]];$A_A_AA_[$GLOBALS[A_AA_A_][2]]=$O4gtI9W;$O4g9W=0-198;$O4g9X=99*E_WARNING;$O4g9Y=$O4g9W+$O4g9X;$O4g9Z=$O4g9Y-141;$O4gA0=E_WARNING*74;$O4gA1=$O4g9Z+$O4gA0;$O4gA2=$O4gA1==$A_A__A_[$GLOBALS[A_AA_A_][2]];if($O4gA2)goto O4geWjgxs;goto O4gldMhxs;O4geWjgxs:$O4g9W=!isset($A_A__A_[$GLOBALS[A_AA_A_][014]]);$O4gA0=(bool)$O4g9W;$O4gA1=!$O4gA0;if($O4gA1)goto O4geWjgxv;goto O4gldMhxv;O4geWjgxv:$O4g9X=14*E_WARNING;$O4g9Y=$O4g9X-27;$O4g9Z=$O4g9Y==$A_A__A_[$GLOBALS[A_AA_A_][014]];$O4gA0=$O4g9W||$O4g9Z;goto O4gxu;O4gldMhxv:O4gxu:if($O4gA0)goto O4geWjgxw;goto O4gldMhxw;O4geWjgxw:unset($O4gtI9W);$A_A_AAA=$GLOBALS[A_AA_A_][13];unset($O4gtI9W);$A_AA___=$this->users_db->field($A_A_AAA)->where($GLOBALS[A_AA_A_][04],$A_A__A_[$GLOBALS[A_AA_A_][04]])->find();$O4gvPvP9W=$GLOBALS[A_AA_A_][0xF] . $A_A__A_[$GLOBALS[A_AA_A_][0x8]];$O4gzA0=array();$O4gzA0[$GLOBALS[A_AA_A_][016]]=Db::raw($O4gvPvP9W);unset($O4gtI9X);$A_AA__A=$O4gzA0;unset($O4gtI9W);$A_A_A_A=$this->users_db->where($GLOBALS[A_AA_A_][04],$A_A__A_[$GLOBALS[A_AA_A_][04]])->update($A_AA__A);$O4g9W=!empty($A_A_A_A);if($O4g9W)goto O4geWjgxy;goto O4gldMhxy;O4geWjgxy:if(empty($A_A__A_[$GLOBALS[A_AA_A_][16]]))goto O4geWjgx11;goto O4gldMhx11;O4geWjgx11:unset($O4gtI9W);$O4gtI9W=Db::name($GLOBALS[A_AA_A_][0x11])->where($GLOBALS[A_AA_A_][18],$A_A__A_[$GLOBALS[A_AA_A_][18]])->getField($GLOBALS[A_AA_A_][16]);$A_A__A_[$GLOBALS[A_AA_A_][16]]=$O4gtI9W;goto O4gxz;O4gldMhx11:O4gxz:UsersMoneyRecording($A_A__A_[$GLOBALS[A_AA_A_][16]],$A_AA___,$A_A__A_[$GLOBALS[A_AA_A_][0x8]],$GLOBALS[A_AA_A_][0x13]);goto O4gxx;O4gldMhxy:O4gxx:goto O4gxt;O4gldMhxw:O4gxt:goto O4gxr;O4gldMhxs:O4gxr:$O4gvP9W=0-198;$O4gvP9X=99*E_WARNING;$O4gvP9Y=$O4gvP9W+$O4gvP9X;$this->shop_common->AddOrderServiceLog($A_A__A_,$O4gvP9Y);$this->success($GLOBALS[A_AA_A_][0x14],null,$A_A_AA_);goto O4gxp;O4gldMhxq:$this->error($GLOBALS[A_AA_A_][21]);O4gxp:goto O4gxb;O4gldMhxc:O4gxb:}public function after_service_del(){$AA__AAA="defined";$O4geF0=$AA__AAA("AA__A_A");$O4g9W=!$O4geF0;if($O4g9W)goto O4geWjgx13;goto O4gldMhx13;O4geWjgx13:$AA_A___="define";$O4geF0=$AA_A___("AA__A_A","AA__AA_");goto O4gx12;O4gldMhx13:O4gx12:$AA_A__A="explode";$O4geF0=$AA_A__A("|n|[|y","del_id/a|n|[|ylang|n|[|yservice_id|n|[|yIN|n|[|yorder_code|n|[|yshop_order_service_log|n|[|y删除订单：|n|[|yAA__A__|n|[|y,|n|[|y删除成功|n|[|y删除失败|n|[|y参数有误");unset($O4gtI9W);$GLOBALS[AA__A_A]=$O4geF0;unset($O4gtI9W);$A_AAAAA=input($GLOBALS[AA__A_A][0]);unset($O4gtI9W);$A_AAAAA=eyIntval($A_AAAAA);$O4g9X=(bool)IS_AJAX_POST;if($O4g9X)goto O4geWjgx16;goto O4gldMhx16;O4geWjgx16:$O4g9W=!empty($A_AAAAA);$O4g9X=IS_AJAX_POST&&$O4g9W;goto O4gx15;O4gldMhx16:O4gx15:if($O4g9X)goto O4geWjgx17;goto O4gldMhx17;O4geWjgx17:$O4gzAvP0=array();$O4gzAvP0[]=$GLOBALS[AA__A_A][3];$O4gzAvP0[]=$A_AAAAA;$O4gzA1=array();$O4gzA1[$GLOBALS[AA__A_A][1]]=$this->admin_lang;$O4gzA1[$GLOBALS[AA__A_A][0x2]]=$O4gzAvP0;unset($O4gtI9W);$AA_____=$O4gzA1;unset($O4gtI9W);$AA____A=$this->shop_order_service_db->field($GLOBALS[AA__A_A][04])->where($AA_____)->select();unset($O4gtI9W);$AA___A_=get_arr_column($AA____A,$GLOBALS[AA__A_A][04]);unset($O4gtI9W);$AA___AA=$this->shop_order_service_db->where($AA_____)->delete();$O4g9W=!empty($AA___AA);if($O4g9W)goto O4geWjgx19;goto O4gldMhx19;O4geWjgx19:Db::name($GLOBALS[AA__A_A][5])->where($AA_____)->delete();$O4gvP9W=$GLOBALS[AA__A_A][0x6] . $GLOBALS[$GLOBALS[AA__A_A][0x7]]($GLOBALS[AA__A_A][0x8],$AA___A_);adminLog($O4gvP9W);$this->success($GLOBALS[AA__A_A][9]);goto O4gx18;O4gldMhx19:$this->error($GLOBALS[AA__A_A][012]);O4gx18:goto O4gx14;O4gldMhx17:O4gx14:$this->error($GLOBALS[AA__A_A][0xB]);}}
?>